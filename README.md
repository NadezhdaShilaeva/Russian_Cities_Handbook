# Russian Cities Handbook

###### Made on the virtual internship "Java development in Sber"

В проекте реализована загрузка и обработка справочника городов России, состоящая из четырех этапов:
* Загрузка справочников городов России
* Реализация нескольких вариантов сортировки данных справочника
* Поиск города с наибольшим количеством жителей
* Поиск количества городов в разрезе регионов

### 1 этап. Загрузка справочников городов России

В ***csv-файле "data/Задача ВС Java Сбер.csv"*** содержится справочник городов. 
Он представлен в текстовом виде и состоит из следующих полей:

* Порядковый номер записи справочника;
* Наименование города;
* Регион;
* Федеральный округ;
* Количество жителей;
* Дата основания или первое упоминание.

Класс ***City*** представляет собой модель, описывающую объект город.

Класс ***CSVReader*** реализует интерфейс ***ICitiesReader*** и отвечает за чтение из csv-файла и парсинг данных из 
текстового представления в модель ***City***.

В сервисе ***ICitiesService*** реализован метод ***readCities***, который предоставляет функционал для 
получения списка городов из хранилища. В случае возникновения проблем с чтением файла или отсутствием городов в списке 
выбрасывается исключение ***CityException***.

В классе ***Main*** (являющимся точкой входа в программу) полученный список объектов ***City*** выводится в консоль.

### 2 этап. Реализация нескольких вариантов сортировки данных справочника

Задание выполнено с использованием поведенческого паттерна проектирования ***Strategy***.

Классы, реализующие интерфейс ***ICitiesSorting*** содержат различные варианты сортировки данных справочника:

* ***CitiesSortingByName*** - сортировка списка городов по наименованию в алфавитном порядке по убыванию без учета регистра;

* ***CitiesSortingByDistrictAndName*** - сортировка списка городов по федеральному округу и наименованию города внутри 
* каждого федерального округа в алфавитном порядке по убыванию с учетом регистра;

Также для реализации сортировки *в обратном порядке* был применен структурный паттерн проектирования ***Decorator***: 
класс ***ReverseSorting*** расширяет логику оборачиваемого объекта ***ICitiesSorting***, переворачивая порядок объектов.

В классе ***Main*** в сервис по работе со списком городов ***ICitiesService*** в качестве аргумента функции ***sortCitiesList*** 
передается экземляр нужной стратегии.
Полученный список объектов ***City*** выводится в консоль.

### 3 этап. Поиск города с наибольшим количеством жителей

В сервисе ***ICitiesService*** реализован метод ***findTheMostPopulatedCity***, который (по условию технического задания) 
преобразует список городов в массив, а затем путем перебора массива осуществляет поиск индекса элемента и значения с 
наибольшим количеством жителей города.

В случае отсутствия городов в списке выбрасывается исключение ***CityException***.

### 4 этап. Поиск количества городов в разрезе регионов

В сервисе ***ICitiesService*** реализован метод ***countCitiesInRegions***, который определяет количество городов в каждом регионе.

В случае отсутствия городов в списке выбрасывается исключение ***CityException***.

Весь реализованный функционал в сервисе ***CitiesService*** протестирован с помощью фреймворков ***JUnit*** и ***Mockito***.